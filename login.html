<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login | Clark Dating</title>
<style>
body {
  height: 100vh;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "Segoe UI";
  background: url("darny.jpeg") no-repeat center/cover;
}
.glass {
  width: 90%;
  max-width: 400px;
  padding: 30px;
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  text-align: center;
  color: white;
}
input {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border-radius: 25px;
  border: none;
}
button {
  width: 100%;
  padding: 12px;
  border-radius: 25px;
  border: none;
  background: #ff4f8b;
  color: white;
  font-weight: bold;
}
</style>
</head>
<body>

<div class="glass">
  <h2>Login ðŸ’–</h2>
  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <p>Don't have account? <a href="signup.html" style="color:white;">Sign Up</a></p>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDuAZOFqpyZoSH1FlbZ1G7O8YcNX63yDtM",
  authDomain: "clark-online-dating.firebaseapp.com",
  projectId: "clark-online-dating",
  storageBucket: "clark-online-dating.appspot.com",
  messagingSenderId: "63074718758",
  appId: "1:63074718758:web:6af5283a9cdbbc1cef82e7"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

auth.onAuthStateChanged(user => {
  if (user) {
    // User is already logged in, redirect to chat
    window.location = "chat.html";
  }
});

function login() {
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value;

  if (!email || !password) return alert("All fields are required!");

  auth.signInWithEmailAndPassword(email, password)
    .then(() => {
      window.location = "chat.html";
    })
    .catch(err => alert(err.message));
}
</script>

</body>
</html>
