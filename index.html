<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clark Online Dating</title>

<style>
body{margin:0;font-family:'Poppins',sans-serif;background:#ff9a9e;color:white;}
.hidden{display:none;}
button{cursor:pointer;border:none}

/* Homepage */
#homepage{
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
background:url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1350&q=80') center/cover no-repeat;
position:relative;
overflow:hidden;
}
#homepage::after{
content:"";
position:absolute;
top:0;left:0;right:0;bottom:0;
background:rgba(0,0,0,0.5);
}
#homepage h1,#homepage p,.cta-button{position:relative;z-index:2;}
.cta-button{
padding:15px 40px;
font-size:1.2rem;
background:#ff6b81;
border-radius:50px;
color:white;
}

/* App */
#app{
width:360px;
height:640px;
background:#fff;
color:#000;
border-radius:25px;
overflow:hidden;
position:relative;
margin:40px auto;
display:none;
box-shadow:0 10px 30px rgba(0,0,0,0.2);
}

/* Top bar */
.top-bar{
position:absolute;
top:0;
width:100%;
height:60px;
background:#fff;
display:flex;
justify-content:space-between;
align-items:center;
padding:0 15px;
z-index:20;
font-weight:bold;
}
.logo{color:#ff4d6d;font-size:20px;}
.top-icons span{margin-left:15px;font-size:18px;cursor:pointer;}

.page{
width:100%;
height:100%;
position:absolute;
top:0;
left:0;
padding-top:60px;
}

.profile-card{
width:100%;
height:100%;
background-size:cover;
background-position:center;
display:flex;
flex-direction:column;
justify-content:flex-end;
padding:20px;
color:white;
text-shadow:0 2px 8px rgba(0,0,0,0.6);
transition:transform 0.3s ease;
}

.profile-info{
background:rgba(0,0,0,0.4);
border-radius:20px;
padding:15px;
}

.verified{color:#1da1f2;}
.distance{font-size:14px;opacity:0.9;}

.buttons{
position:absolute;
bottom:70px;
width:100%;
display:flex;
justify-content:space-around;
}

.buttons button{
width:60px;height:60px;
border-radius:50%;
font-size:20px;
color:white;
}

.dislike{background:#ff4d6d;}
.like{background:#4cd964;}
.boost{background:#f5b700;}
.superlike{background:#4facfe;}

.bottom-nav{
position:absolute;
bottom:0;
width:100%;
height:60px;
background:#fff;
display:flex;
justify-content:space-around;
align-items:center;
border-top:1px solid #eee;
}
.bottom-nav button{
background:none;
font-size:22px;
color:black;
}

.like-card{
background:#fff;
padding:10px;
border-radius:15px;
margin:10px;
box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

/* Chat */
#chat-container{
display:flex;
flex-direction:column;
}
</style>
</head>
<body>

<!-- Homepage -->
<div id="homepage">
<h1>Clark Online Dating</h1>
<p>Meet amazing people near you.</p>
<button class="cta-button" id="browseBtn">Browse Profiles</button>
</div>

<!-- App -->
<div id="app">

<div class="top-bar">
<span class="logo">ğŸ”¥ Clark</span>
<div class="top-icons">
<span>ğŸ””</span>
<span>âš™</span>
</div>
</div>

<div id="swipe-page" class="page"></div>

<div id="explore-page" class="page hidden">
<h3 style="text-align:center;">Explore Nearby ğŸ“</h3>
<p style="padding:15px;">People near your location will appear here.</p>
</div>

<div id="likes-page" class="page hidden">
<h3 style="text-align:center;">People You Liked â¤ï¸</h3>
<div id="likes-container"></div>
</div>

<div id="matches-page" class="page hidden">
<h3 style="text-align:center;">Your Matches ğŸ’•</h3>
<div id="matches-container"></div>
</div>

<div id="profile-page" class="page hidden">
<h3 style="text-align:center;">Your Profile ğŸ‘¤</h3>
<p style="padding:15px;">Name: Clark User<br>Age: 25</p>
</div>

<!-- Chat Page -->
<div id="chat-page" class="page hidden">
<h3 style="text-align:center;">Chat ğŸ’¬</h3>
<div id="chat-container" style="padding:15px; height:70%; overflow-y:auto; border:1px solid #eee; border-radius:15px; margin:10px 0;"></div>
<div style="display:flex; padding:10px;">
<input id="chat-input" type="text" placeholder="Type a message..." style="flex:1; padding:10px; border-radius:20px; border:1px solid #ccc;">
<button id="send-btn" style="margin-left:10px; padding:10px 20px; border-radius:20px; background:#4cd964; color:white;">Send</button>
</div>
<button onclick="showPage('swipe')" style="margin:10px; padding:10px 20px; border-radius:20px; background:#ff6b81; color:white;">Back ğŸ”¥</button>
</div>

<div class="buttons">
<button class="boost">âš¡</button>
<button class="dislike" id="btnDislike">âœ–</button>
<button class="like" id="btnLike">â¤ï¸</button>
<button class="superlike">â­</button>
</div>

<div class="bottom-nav">
<button onclick="showPage('swipe')">ğŸ”¥</button>
<button onclick="showPage('explore')">ğŸ“</button>
<button onclick="showPage('likes')">â¤ï¸</button>
<button onclick="showPage('matches')">ğŸ’¬</button>
<button onclick="showPage('profile')">ğŸ‘¤</button>
</div>

</div>

<script>
const homepage=document.getElementById("homepage");
const app=document.getElementById("app");
document.getElementById("browseBtn").onclick=function(){
  homepage.style.display="none";
  app.style.display="block";
}

/* Profiles */
const profiles=[
  {name:"Sophia",age:23,image:"https://randomuser.me/api/portraits/women/44.jpg"},
  {name:"Emma",age:25,image:"https://randomuser.me/api/portraits/women/65.jpg"},
  {name:"Olivia",age:22,image:"https://randomuser.me/api/portraits/women/68.jpg"}
];

let index=0;
let likedProfiles=[];
let matchedProfiles=[];

const swipePage=document.getElementById("swipe-page");
const likesContainer=document.getElementById("likes-container");
const matchesContainer=document.getElementById("matches-container");

function loadProfile(){
  if(index>=profiles.length){
    swipePage.innerHTML="<h3 style='text-align:center;margin-top:50%;'>No more profiles</h3>";
    return;
  }
  const p=profiles[index];
  swipePage.innerHTML=`
    <div class="profile-card" id="card"
    style="background-image:url('${p.image}')">
    <div class="profile-info">
      <h2>${p.name}, ${p.age} <span class="verified">âœ”</span></h2>
      <p class="distance">ğŸ“ ${Math.floor(Math.random()*10)+1} km away</p>
    </div>
    </div>
  `;
  addSwipeEffect();
}
loadProfile();

function addSwipeEffect(){
  const card=document.getElementById("card");
  let startX=0,currentX=0,isDragging=false;

  card.addEventListener("mousedown",startDrag);
  card.addEventListener("touchstart",startDrag);

  function startDrag(e){
    isDragging=true;
    startX=e.type==="touchstart"?e.touches[0].clientX:e.clientX;
    document.addEventListener("mousemove",drag);
    document.addEventListener("touchmove",drag);
    document.addEventListener("mouseup",endDrag);
    document.addEventListener("touchend",endDrag);
  }

  function drag(e){
    if(!isDragging)return;
    currentX=e.type==="touchmove"?e.touches[0].clientX:e.clientX;
    let diff=currentX-startX;
    card.style.transform=`translateX(${diff}px) rotate(${diff/10}deg)`;
  }

  function endDrag(){
    isDragging=false;
    let diff=currentX-startX;
    if(diff>100)likeAction();
    else if(diff<-100)dislikeAction();
    else card.style.transform="translateX(0px)";
    document.removeEventListener("mousemove",drag);
    document.removeEventListener("touchmove",drag);
    document.removeEventListener("mouseup",endDrag);
    document.removeEventListener("touchend",endDrag);
  }
}

function likeAction(){
  const profile=profiles[index];
  likedProfiles.push(profile);
  if(Math.random()>0.5){
    matchedProfiles.push(profile);
    openChat(profile); // â† OPEN CHAT PAGE
  }
  renderLikes();
  renderMatches();
  index++;
  loadProfile();
}

function dislikeAction(){
  index++;
  loadProfile();
}

document.getElementById("btnLike").onclick=likeAction;
document.getElementById("btnDislike").onclick=dislikeAction;

function renderLikes(){
  likesContainer.innerHTML="";
  likedProfiles.forEach(p=>{
    likesContainer.innerHTML+=`<div class="like-card"><strong>${p.name}</strong>, ${p.age}</div>`;
  });
}

function renderMatches(){
  matchesContainer.innerHTML="";
  matchedProfiles.forEach(p=>{
    matchesContainer.innerHTML+=`<div class="like-card">ğŸ’• ${p.name}, ${p.age}</div>`;
  });
}

/* Show Page */
function showPage(page){
  document.querySelectorAll(".page").forEach(p=>p.classList.add("hidden"));
  document.getElementById(page+"-page").classList.remove("hidden");
}

/* Chat System */
function openChat(profile){
  document.querySelectorAll(".page").forEach(p => p.classList.add("hidden"));
  document.getElementById("chat-page").classList.remove("hidden");
  
  const chatContainer = document.getElementById("chat-container");
  chatContainer.innerHTML = `<div style="text-align:center; color:#888; margin-bottom:10px;">Chat with ${profile.name}</div>`;
  
  window.currentChatUser = profile;
}

document.getElementById("send-btn").onclick = () => {
  const input = document.getElementById("chat-input");
  const msg = input.value.trim();
  if(msg === "") return;
  
  const chatContainer = document.getElementById("chat-container");
  const bubble = document.createElement("div");
  bubble.style.padding = "8px 12px";
  bubble.style.margin = "5px 0";
  bubble.style.background = "#4cd964";
  bubble.style.color = "white";
  bubble.style.borderRadius = "15px";
  bubble.style.alignSelf = "flex-end";
  bubble.style.maxWidth = "70%";
  bubble.innerText = msg;
  chatContainer.appendChild(bubble);
  
  input.value = "";
  chatContainer.scrollTop = chatContainer.scrollHeight;

  // Fake reply
  setTimeout(() => {
    const reply = document.createElement("div");
    reply.style.padding = "8px 12px";
    reply.style.margin = "5px 0";
    reply.style.background = "#eee";
    reply.style.color = "#000";
    reply.style.borderRadius = "15px";
    reply.style.alignSelf = "flex-start";
    reply.style.maxWidth = "70%";
    reply.innerText = "Hi! Nice to match with you ğŸ˜";
    chatContainer.appendChild(reply);
    chatContainer.scrollTop = chatContainer.scrollHeight;
  }, 1000);
};
</script>

</body>
</html>
